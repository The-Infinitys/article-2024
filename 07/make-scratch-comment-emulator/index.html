<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><InfinitySpiritMetaTitle>Scratch Comment emulatorを作ってみた！</InfinitySpiritMetaTitle></title>
    <link rel="stylesheet" href="../../InfinitySpirit/template/style.css" />
    <script defer src="../../InfinitySpirit/template/script.js"></script>
    <link rel="stylesheet" href="/The-Infinitys-Infinity/style.css" />
    <script defer src="/The-Infinitys-Infinity/script.js"></script>
  </head>
  <body>
    <div class="article-body">
      <div class="article-title">
        Scratch Comment emulatorを作ってみた！
        <br />
        <svg
          class="clock-watch"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          viewbox="0 0 100 100"
          stroke="#888"
          fill="none"
          stroke-width="5"
          stroke-linecap="round">
          <g class="Infinity-clock_frame">
            <circle cx="50" cy="50" r="40" />
          </g>
          <g class="Infinity-clock_hands">
            <path d="M50 50,L50 20 Z" />
            <path d="M50 50,L70 70 Z" />
          </g>
        </svg>
        <InfinitySpiritDate>2024/07/02</InfinitySpiritDate>
      </div>
      <div class="article-content">
        <InfinitySpiritContent>
          <h1 id="title-scratch-comment-emulator">title: Scratch Comment emulatorを作ってみた！</h1>
          <p>Scratchでコメントをした際にどのように表示されるのかをエミュレートするプログラムを作りました。ご自由にお使いください。</p>
          <h3 id="for-users">for users</h3>
          <pre class="codehilite"><code class="language-javascript">alert(&quot;Scratch comment emulator&quot;);
          if (window.location.href.startsWith(&quot;https://scratch.mit.edu/users/&quot;)) {
            var comment_box = document.createElement(&quot;div&quot;);
            comment_box.id = Math.floor(Math.random() * 10 ** 10);
            comment_box.className = &quot;comment&quot;;
            var actions_warp = document.createElement(&quot;div&quot;);
            actions_warp.className = &quot;actions-wrap&quot;;
            actions_warp.innerHTML = '&lt;span data-control=&quot;delete&quot; class=&quot;actions report&quot;&gt;Delete&lt;/span&gt;\n&lt;span data-control=&quot;report&quot; class=&quot;actions report&quot;&gt; 報告 &lt;/span&gt;';
            comment_box.append(actions_warp);
            const comment_user_a = document.createElement(&quot;a&quot;);
            const comment_username = prompt(&quot;user: &quot;);
            comment_user_a.href = &quot;/users/&quot; + comment_username;
            const comment_image = document.createElement(&quot;img&quot;);
            comment_image.className = &quot;avatar&quot;;
            fetch(&quot;https://api.scratch.mit.edu/users/&quot; + comment_username)
              .then(res =&gt; res.json())
              .then(data =&gt; {
                comment_image.src = data.profile.images[&quot;60x60&quot;];
                comment_image.alt = comment_username;
              })
              .catch(err =&gt; alert(&quot;error: &quot; + err));
            comment_image.width = 45;
            comment_image.height = 45;
            comment_user_a.append(comment_image);
            comment_box.append(comment_user_a);
            const comment_info = document.createElement(&quot;div&quot;);
            comment_info.className = &quot;info&quot;;
            comment_info.innerHTML = '&lt;div class=&quot;name&quot;&gt;\n&lt;a href=&quot;/users/' + comment_username + '&quot;&gt;' + comment_username + '&lt;/a&gt;\n&lt;/div&gt;';
            comment_content = document.createElement(&quot;div&quot;);
            comment_content.className = &quot;content&quot;;
            comment_content.innerHTML = prompt(&quot;text: &quot;);
            comment_info.append(comment_content);
            const comment_info_other = document.createElement(&quot;div&quot;);
            comment_info_other.innerHTML = `
          &lt;div&gt;
          &lt;span class=&quot;time&quot; title=&quot;made by The Infinity's&quot;&gt;1 minute ago&lt;/span&gt;
          &lt;a
            class=&quot;reply&quot;
            style=&quot;display: inline;&quot;
            data-comment-id=&quot;1234567890&quot;
            data-parent-thread=&quot;1234567890&quot;
            data-commentee-id=&quot;1234567890&quot;
            data-control=&quot;reply-to&quot;&gt;
            &lt;span&gt;Reply&lt;/span&gt;
          &lt;/a&gt;
          &lt;/div&gt;
          &lt;div data-content=&quot;reply-form&quot;&gt;&lt;/div&gt;
          `;
            comment_info.append(comment_info_other);
            comment_box.append(comment_info);
            const comment_li = document.createElement(&quot;li&quot;);
            comment_li.className = &quot;top-level-reply&quot;;
            comment_li.append(comment_box);
            const comment_ul = document.createElement(&quot;ul&quot;);
            comment_ul.className = &quot;replies&quot;;
            comment_li.append(comment_ul);
            document.querySelector(&quot;ul.comments&quot;).prepend(comment_li);
            /*
            &lt;div id=&quot;comments-1234567890&quot; class=&quot;comment&quot; data-comment-id=&quot;335898053&quot;&gt;
              &lt;div class=&quot;actions-wrap&quot;&gt;
                &lt;span data-control=&quot;delete&quot; class=&quot;actions report&quot;&gt;Delete&lt;/span&gt;
                &lt;span data-control=&quot;report&quot; class=&quot;actions report&quot;&gt; 報告 &lt;/span&gt;
              &lt;/div&gt;
              &lt;a href=&quot;/users/michinsk&quot; id=&quot;comment-user&quot; data-comment-user=&quot;michinsk&quot;
                &gt;&lt;img
                  class=&quot;avatar&quot;
                  src=&quot;//cdn2.scratch.mit.edu/get_image/user/89663687_60x60.png&quot;
                  width=&quot;45&quot;
                  height=&quot;45&quot;
              /&gt;&lt;/a&gt;
              &lt;div class=&quot;info&quot;&gt;
                &lt;div class=&quot;name&quot;&gt;
                  &lt;a href=&quot;/users/michinsk&quot;&gt;michinsk&lt;/a&gt;
                &lt;/div&gt;
                &lt;div class=&quot;content&quot;&gt;icon変わりましたね。このアイコン不思議です&lt;/div&gt;
                &lt;div&gt;
                  &lt;span class=&quot;time&quot; title=&quot;June 23, 2024&quot;&gt;about 5 hours ago&lt;/span&gt;
          
                  &lt;a
                    class=&quot;reply&quot;
                    style=&quot;display: inline;&quot;
                    data-comment-id=&quot;335898053&quot;
                    data-parent-thread=&quot;335898053&quot;
                    data-commentee-id=&quot;89663687&quot;
                    data-control=&quot;reply-to&quot;&gt;
                    &lt;span&gt;Reply&lt;/span&gt;
                  &lt;/a&gt;
                &lt;/div&gt;
                &lt;div data-content=&quot;reply-form&quot;&gt;&lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            */
          } else if (
            window.location.href.startsWith(&quot;https://scratch.mit.edu/projects/&quot;)
          ) {
            var comment_box = document.createElement(&quot;div&quot;);
            comment_box.id = Math.floor(Math.random() * 10 ** 10);
            comment_box.className = &quot;flex-row comment&quot;;
            const comment_user_a = document.createElement(&quot;a&quot;);
            const comment_username = prompt(&quot;user: &quot;);
            comment_user_a.href = &quot;/users/&quot; + comment_username;
            const comment_image = document.createElement(&quot;img&quot;);
            comment_image.className = &quot;avatar&quot;;
            fetch(&quot;https://api.scratch.mit.edu/users/&quot; + comment_username)
              .then(res =&gt; res.json())
              .then(data =&gt; {
                comment_image.src = data.profile.images[&quot;60x60&quot;];
                comment_image.alt = comment_username;
              })
              .catch(err =&gt; alert(&quot;error: &quot; + err));
            comment_image.width = 45;
            comment_image.height = 45;
            comment_user_a.append(comment_image);
            comment_box.append(comment_user_a);
            const comment_bubble = document.createElement(&quot;div&quot;);
            comment_bubble.className = &quot;comment-bubble&quot;;
            const comment_content = document.createElement(&quot;span&quot;);
            comment_content.innerHTML = '&lt;span class=&quot;emoji-text&quot;&gt;' + prompt(&quot;text&quot;) + '&lt;/span&gt;';
            const comment_bottom = document.createElement(&quot;div&quot;);
            comment_bottom.className=&quot;flex-row comment-bottom-row&quot;;
            comment_bottom.innerHTML = '&lt;span class=&quot;comment-time&quot;&gt;&lt;span&gt;' + prompt(&quot;date(examples 「4 時間前」、「1 分前」...): &quot;) + '&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;comment-reply&quot;&gt;&lt;span&gt;返信&lt;/span&gt;&lt;/span&gt;';
            comment_bubble.append(comment_content);
            comment_bubble.append(comment_bottom);
            const comment_body = document.createElement(&quot;div&quot;);
            comment_body.className = &quot;flex-row comment-body column&quot;;
            comment_body.innerHTML = '&lt;div class=&quot;flex-row comment-top-row&quot;&gt;&lt;a class=&quot;username&quot; href=&quot;/users/' + comment_username + '&quot;&gt;' + comment_username + '&lt;/a&gt;&lt;div class=&quot;action-list&quot;&gt;&lt;/div&gt;&lt;/div&gt;';
            comment_body.append(comment_bubble);
            comment_box.append(comment_body);
            const comment_container = document.createElement(&quot;div&quot;);
            comment_container.className = &quot;flex-row comment-container&quot;;
            comment_container.append(comment_box);
            document.querySelector(&quot;.comments-list&quot;).prepend(comment_container);
          
            /*
            &lt;div class=&quot;flex-row comment-container&quot;&gt;
              &lt;div class=&quot;flex-row comment&quot; id=&quot;comments-411231997&quot;&gt;
                &lt;a href=&quot;/users/Nhienzcute&quot;
                  &gt;&lt;img
                    class=&quot;avatar&quot;
                    src=&quot;https://cdn2.scratch.mit.edu/get_image/user/133904533_60x60.png&quot;
                /&gt;&lt;/a&gt;
                &lt;div class=&quot;flex-row comment-body column&quot;&gt;
                  &lt;div class=&quot;flex-row comment-top-row&quot;&gt;
                    &lt;a class=&quot;username&quot; href=&quot;/users/Nhienzcute&quot;
                      &gt;Nhienzcute&lt;/a
                    &gt;
                    &lt;div class=&quot;action-list&quot;&gt;&lt;/div&gt;
                  &lt;/div&gt;
                  &lt;div class=&quot;comment-bubble&quot;&gt;
                    &lt;span class=&quot;comment-content&quot;
                      &gt;&lt;span class=&quot;emoji-text&quot;
                        &gt;dare you search &quot;nhienzcute&quot; on google&lt;/span
                      &gt;&lt;/span
                    &gt;
                    &lt;div class=&quot;flex-row comment-bottom-row&quot;&gt;
                      &lt;span class=&quot;comment-time&quot;
                        &gt;&lt;span&gt;4 時間前&lt;/span&gt;&lt;/span
                      &gt;
                    &lt;/div&gt;
                  &lt;/div&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
            */
          } else {
            alert(&quot;対応していません&quot;)
          }
          </code></pre>

          </InfinitySpiritContent>
      </div>
      <div class="article-index"></div>
      <div class="articles-recommended">
        <button>
          <img src="../../InfinitySpirit/template/image/loading.svg" alt="" />
          <div>
            <h1>THE INFINITYS BELIEVE THE INFINITY</h1>
            <p>date:2024/07/07</p>
          </div>
        </button>
      </div>
    </div>
  </body>
</html>
