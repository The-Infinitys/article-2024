
<!DOCTYPE html>
<html lang="Ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="The Infinity's awesome blog article" />
    <title>Scratch messages counter</title>
    <link rel="stylesheet" href="../../Infinity-style/style.css" />
    <script defer src="../../Infinity-style/script.js"></script>
    <script defer src="/The-Infinitys-Infinity/script.js"></script>
    <link rel="stylesheet" href="/The-Infinitys-Infinity/style.css">
    <script defer src="/The-Infinitys-Infinity/script.js"></script>
    <link rel="stylesheet" href="/The-Infinitys-Infinity/style.css" />
    <script
    defer
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2045274771035552"
    crossorigin="anonymous"></script>
  </head>
  <body>
    <div id="article-body">
      <div id="article-content">
        <h1>Scratch messages counter</h1>
        <p>どもども!6月最初のブログだZE⭐️!The Infinity'sです！</p>
        <p>
        最近、ふと思ったことがあるんです。もしも他のScratcherが活動しているか見れたら便利だなーぁ...
        </p>
        <p>って。そういうわけで作ることにします。</p>
        <p>おもな仕組みとしては、</p>
        <p>1.場所(現在地のURL)を取得</p>
        <p>2.ユーザー名が取れたら、とる。</p>
        <p>3.でなければ任意の値を入れさせる</p>
        <p>4.ユーザー名からメッセージ数をfetch</p>
        <p>5.表示</p>
        <p>というふうにするつもりです。</p>
        <p><a
        target="_parent"
        href="https://github.com/The-Infinitys/blog-data/blob/main/2024-6/Scratch-messages-count-tool/messagescount.js"><br />
        <img
        src="./img/messagescount.js.png"
        alt="messagescount.js"
        style="width:100%;"
        /></a></p>
        <p>作りました。</p>
        <p>
        で、このデータを元にして...<a
        target="_parent"
        href="https://google.com/search?q=ブックマークレット"
        >ブックマークレット</a
        >を作成します。
        </p>
        <p>&lt;a<br />
        href=&rdquo;javascript:if(window.location.href.startsWith(%22https://scratch.mit.edu/users/%22))%7Bvar%20messagescounter<em>username=(messagescounter</em>url=new%20URL(window.location.href)).pathname.replace(%22/users/%22,%22%22).replace(%22/%22,%22%22);fetch(%22https://api.scratch.mit.edu/users/%22+messagescounter<em>username+%22/messages/count/%22).then((e=%3Ee.json())).then((e=%3Ealert(messagescounter</em>username+%22%E3%81%AE%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E6%95%B0%E3%81%AF%E3%80%81%22+e.count.toString()+%22%E3%81%A7%E3%81%99%22)))%7Delse%20if(window.location.href.startsWith(%22https://scratch.mit.edu/projects/%22))%7Bvar%20messagescounter<em>url=new%20URL(window.location.href);fetch(%22https://api.scratch.mit.edu%22+messagescounter</em>url.pathname).then((e=%3Ee.json())).then((e=%3E%7Bvar%20t=e.author.username;fetch(%22https://api.scratch.mit.edu/users/%22+t+%22/messages/count/%22).then((e=%3Ee.json())).then((e=%3Ealert(t+%22%E3%81%AE%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E6%95%B0%E3%81%AF%E3%80%81%22+e.count.toString()+%22%E3%81%A7%E3%81%99%22)))%7D))%7Delse%20if(window.location.href.startsWith(%22https://scratch.mit.edu%22))%7Bmessagescounter<em>username=prompt(%22%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E5%90%8D%E3%82%92%E5%85%A5%E5%8A%9B%E3%81%97%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%E3%80%82%22);fetch(%22https://api.scratch.mit.edu/users/%22+messagescounter</em>username+%22/messages/count/%22).then((e=%3Ee.json())).then((e=%3Ealert(messagescounter_username+%22%E3%81%AE%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E6%95%B0%E3%81%AF%E3%80%81%22+e.count.toString()+%22%E3%81%A7%E3%81%99%22)))%7Delsealert(%22https://scratch.mit.edu%E3%81%AEURL%E3%81%A7%E4%BD%BF%E7%94%A8%E3%81%97%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%E3%80%82(by%20messagescounter)%22);void(0);&rdquo;</p>
        <blockquote>
        <p>完成品&lt;/a<br />
        </p>
        </blockquote>
        <p>
        今までこういった小物ツールをたくさん作ってきたので、結構簡単でした。
        </p>
        <p><date>2024/06/01</date></p>
      </div>
    </div>
  </body>
</html>
